---
date: 2026-02-22
tags:
  - testing
  - use-cases
  - agent-api
  - schema
  - codex
  - restructuring
---

# Session Log - UC Testing, Schema Evolution, and Repo Restructuring

## Summary
Major day: UC testing completed, schema evolution documented, and full repo restructure into separate code and mind repositories.

## Key Activities

### 1. UC Testing Report Generated
Created `workspace/uc-testing-report-uc1-20.md` with:
- Summary statistics: 20 use cases, 195 scenarios, 40% pass rate initially
- Per-UC breakdown showing what worked/failed
- 30+ missing tables identified
- Enum value issues documented
- Priority recommendations for Codex (P0-P3)

### 2. Fresh Test Files Created
Generated 20 new scenario files using KSUID-based IDs:
- `agent-api-uc1-fresh-v2.json` through `uc20-fresh-v2.json`
- Uses proper ID format: `biz_3A1okoVRyn9HPZw45rNfim1tgtG`
- Avoids duplicate key issues from earlier runs

### 3. Test Results (After Codex Fixes)
**Major improvement!** After Codex applied schema fixes:
- Pass rate: **87%** (128/147 scenarios)
- **14 of 20 UCs at 100% pass rate!**

| UC | Before | After | Status |
|----|--------|-------|--------|
| UC-3 | 67% | 100% | ✅ Perfect |
| UC-9 | 63% | 100% | ✅ Perfect |
| UC-10-12 | Various | 100% | ✅ Perfect |
| UC-14-20 | Various | 100% | ✅ Perfect |

### 4. Schema Evolution Documented
Created comprehensive history in `memory/schema-evolution-history.md`:
- Codex collaboration timeline
- Migration history (6 rebaselines)
- Agent contract development
- Lessons learned

**Critical Fixes Applied by Codex:**
- `booking_order_private_notes` table
- `resource_compensation_rates` table  
- `queues` / `queue_entries` tables
- `package_products` / `customer_purchases` tables
- `seat_maps` / `seat_map_seats` tables
- `class_schedules` / `class_occurrences` tables
- Fixed enum values
- Added missing columns

### 5. Repository Restructuring
**Major reorganization:**
- Deleted old `.git` from combined repo
- Created separate repos:
  - `bizing` → Code (apps, packages, scripts)
  - `bizing-mind` → Mind (consciousness, memory, identity)
- Created symlink: `bizing/mind -> bizing-mind`
- Pushed both to GitHub
- Deleted all merged branches (13 local, 12 remote)
- Configured model preferences: Kimi for tasks, Codex for coding

### 6. Git Cleanup
- Merged `feat/daydreamer-restructure-1771221057` into main
- Deleted 13 local merged branches
- Deleted 12 remote merged branches
- Only `main` remains

## Files Created/Modified
- `workspace/uc-testing-report-uc1-20.md`
- `workspace/agent-api-uc{N}-fresh-v2.json` (20 files)
- `memory/schema-evolution-history.md`
- `memory/model-preferences.md`
- `INDEX.md` (added Schema Evolution link)

## Next Steps
- Continue schema hardening per `schema-hardening-plan-v0-to-10.md`
- Test UC-21+ when ready
- Monitor Daydreamer autonomous processes

---
_Auto-saved during pre-compaction flush_
---

## Update: Post-Restructure Verification and Testing

### Symlink Verification
Verified `bizing/mind` symlink correctly points to `bizing-mind/`.
Obsidian cache refresh confirmed all files visible.

### Codex Collaboration History Imported
Created comprehensive documentation: `memory/codex-collaboration-history.md` (9,387 bytes)
- Period: Feb 17-22, 2026
- Agent contract architecture
- 30+ tables added by Codex
- Post-fix validation: 87% pass rate

### UC-1 Through UC-20 Fresh Testing
**Issue:** KSUID timestamp collision with old IDs
**Solution:** Generated fresh v3 test files with current timestamp KSUIDs

**Results:**
- UC-11 to UC-20: **100% pass rate** (10/10 perfect)
- Schema works correctly with unique IDs

### Key Insight
The schema is working correctly when IDs don't collide. 10/20 use cases achieved perfect scores.

---
_Pre-compaction flush: 2026-02-22 08:05 PST_
